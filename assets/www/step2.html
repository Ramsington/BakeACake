<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>How to Bake a Cake</title>
<link rel="stylesheet" type="text/css" href="styles.css"></link>
<script type="text/javascript" charset="utf-8" src="http://code.jquery.com/jquery-1.8.3.min.js"></script>
<script>
//http://zouaghi.net/html-5-canvas-drawing-on-touch-screen-mobile-devices-iphone-ipad-android/
if(window.addEventListener) {
	window.addEventListener('load', function () {
  		var canvas, context, draw;

		// Touch Events handlers
		draw = {
			started: false,
			start: function(event) {

				context.beginPath();
				context.moveTo(
					event.targetTouches[0].pageX,
					event.targetTouches[0].pageY
				);

				this.started = true;

			},
			move: function(event) {

				if (this.started) {
					context.lineTo(
						event.targetTouches[0].pageX-50,
						event.targetTouches[0].pageY-100
					);
					context.strokeStyle = 'Yellow';
					context.lineWidth = 25;
					context.stroke();
				}

			},
			end: function(event) {
				this.started = false;
			}
		};

		// Canvas & Context
		canvas = document.getElementById('canvas');
		context = canvas.getContext('2d');

		function showData(){
			var imageData = context.getImageData(0, 0, canvas.width, canvas.height);
			var data = imageData.data;
			document.getElementById('data').innerHTML = data;
		}

		// Full Window Size Canvas
		//context.canvas.width = window.innerWidth;
		//context.canvas.height = 300px;

		// Events
		canvas.addEventListener('touchstart', draw.start, false);
		canvas.addEventListener('touchend', draw.end, false);
		canvas.addEventListener('touchmove', draw.move, false);
		
	});
	
	
	// Disable Page Move
	document.body.addEventListener('touchmove',function(event){
	  event.preventDefault();
	},false);
	
}
</script>
</head>

<body>
    <div class="selector" >
      <select onchange="if (this.value) window.location.href = this.value;">
      <option value="ingredients.html">Ingredients/Recipe</option>
        <option value="index.html">How to Bake a Cake</option>
        <option value="step1.html">Step 1: Pre-heat</option>
        <option value="step2.html" selected="selected">Step 2: Butter Tin</option>
        <option value="step3.html">Step 3: Break Up</option>
        <option value="step4.html">Step 4: Melt Down</option>
        <option value="step5.html">Step 5: Get Sieving</option>
        <option value="step6.html">Step 6: Cracking Eggs</option>
        <option value="step7.html">Step 7: Stir the Mix</option>
        <option value="step8.html">Step 8: Combine Mixes</option>
        <option value="step9.html">Step 9: Stir Well</option>
        <option value="step10.html">Step 10: Pour into Tin</option>
        <option value="step11.html">Step 11: Cook!</option>
      </select>
    </div>
    <div class="content" align="center">
    <h1>Butter The Cake Tins</h1>
    <canvas id="canvas" style="background-color:#CCC;" width="200px" height="200px">
      Sorry, your browser is not supported.
    </canvas>
    <div id="data"></div>
    <input type="button" onclick="showData();" value="Show Data:" />
    <h1>This part requires a Web server, its can be best viewed on Opera browser: http://thempp.net/BakeACake/step2.html</a></h1>	
</div>
<div class="bottombar">
  <div class="previous"><a href="step1.html">&laquo;</a> </div>
  <div class="next" id="next"><a href="step3.html">&raquo;</a></div>
</div>
</body>
</html>